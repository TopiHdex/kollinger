---
import { db } from '../lib/firebaseAdmin';
import { Image } from 'astro:assets';
import Img1 from '../assets/images/1.png';

const snapshot = await db.collection('gallery').orderBy('position').get();
const items = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
---

<div class="gallery">
    {items.map((item) => (
    <div
        class="item"
        style={`grid-column: span ${item.span};`}
    >
        <Image
            inferSize={true}
            class="image"
            src={item.imageUrl}
            alt={item.title}
            style={`aspect-ratio: ${item.aspectRatio};`}
        />
        <div class="item-body">
            <p class="item-name">{item.title}</p>
            <p class="item-desc">{item.description}</p>
        </div>
    </div>
    ))}
</div>

